# Pyruns ‚Äî Python Experiment UI

**English | [ÁÆÄ‰Ωì‰∏≠Êñá](README.md)**

<p align="center">
  <b>üß™ A lightweight web UI for managing, running, and monitoring Python experiments.</b>
</p>

---

## üì¶ Installation

```bash
pip install pyruns
```

**Requirements:** Python ‚â• 3.8. 
**Dependencies:** *NiceGUI, PyYAML, psutil*.

---

## üìö Documentation
- üöÄ [Getting Started](docs/getting-started.md) ‚Äî 5-minute setup guide
- ‚öôÔ∏è [Configuration Guide](docs/configuration.md) ‚Äî Understanding `_pyruns_` structure and settings
- üß™ [Batch Syntax](docs/batch-syntax.md) ‚Äî Deep dive into Product / Zip generation
- üñ•Ô∏è [UI User Guide](docs/ui-guide.md) ‚Äî Mastering Generator, Manager, and Monitor pages
- üõ†Ô∏è [API Reference](docs/api-reference.md) ‚Äî Deep integration within your scripts
- üìê [Architecture](docs/architecture.md) ‚Äî Internal design and principles

---

## üöÄ Quick Start

No need to rewrite your code! Pyruns works out of the box with your existing `argparse` scripts. Simply prefix your python execution with `pyr`.

```bash
pyr your_script.py       # Launch Pyruns Web UI
pyr help                 # Show usage instructions
```

## ‚ú® Features & Examples

We have provided an `examples/` directory to help you get started quickly. Pyruns provides three main tabs to manage the full lifecycle of your python experiments. 

### 1. Generator: Configure & Batch Tasks
Load YAML configs or parse `argparse`, edit hyperparameters in a structured auto-generated form, and utilize powerful batch generation syntax to queue up hundreds of experiments instantly! Supports **Pinning Parameters** to lock frequently modified inputs to the top of the UI.
**Basic Usage: Argparse (No Code Changes)**
See `examples/1_argparse_script/main.py`. Pyruns will automatically read your `argparse` definitions and build the Generator UI for you.
> üí° **Tip**: When both short and long arguments are defined (e.g., `-b, --batch_size`), Pyruns intelligently prioritizes the **long argument name** (`batch_size`) as the configuration key!
```bash
pyr examples/1_argparse_script/main.py
```

**Basic Usage: Pyruns Config**
If you don't want to use command line arguments and prefer configuration files, you can simply load the config generated by Pyruns in the UI. 
See `examples/2_pyruns_config/main.py`.

```python
import pyruns

config = pyruns.load()
print(f"Loading config items: {config.learning_rate}")
```

### 2. Manager: Task Grid & Bulk Actions
A clean, card-grid overview of all your generated tasks. Filter by status (Queued, Running, Failed), search by name, and bulk-run your experiments utilizing multiple background workers.

### 3. Monitor: Live Logs & Metrics Logging
Click into any running task to view real-time ANSI-colored terminal logs. Use `pyruns.add_monitor()` in your scripts to record training metrics, making it easy to export bulk CSV reports later!

**Advanced Usage: Logging Metrics**
See `examples/3_metrics_logging/train.py`. Add one line of code to easily track model loss, accuracy, and epochs during training! 

```python
import pyruns

for epoch in range(100):
    loss, accuracy = train_one_epoch()
    
    # Track metrics for easy JSON/CSV report bulk exportation later
    pyruns.add_monitor(epoch=epoch, loss=loss, accuracy=accuracy)
```

---

## üìã Batch Generation Syntax 

You can queue up massive grids of experiments directly within the Generator form. 

**Product (Cartesian) |**
Will create $3 \\times 2 = 6$ combinations. 
```yaml
learning_rate: 0.001 | 0.01 | 0.1
batch_size: 32 | 64
```

**Zip (Paired) (|)**
Must have matching lengths. Will create exactly 3 combinations.
```yaml
seed: (1 | 2 | 3)
experiment_name: (exp_a | exp_b | exp_c)
```

---

## ‚öôÔ∏è Workspace Configuration

When launched, `pyr` automatically initializes a `_pyruns_` workspace directory alongside your script. 
Inside, you'll find `tasks/` (storing all task runs), `config_default.yaml`, and `_pyruns_settings.yaml`. 

You can edit this file to modify UI layout, default port, parallel worker counts, and polling rates!
```yaml
ui_port: 8099                      # Web UI port
generator_form_columns: 2          # Grid columns in generator
manager_max_workers: 4             # Number of scripts to run in parallel
manager_execution_mode: thread     # Run using threads or processes
log_enabled: false                 # Enable file logging
```

---

## üìÑ License
MIT License.
